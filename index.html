<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Houssem GPA - Full Subjects</title>
    <style>
        :root { --blue: #002868; --red: #bf0a30; --green: #2ecc71; --orange: #f39c12; }
        body { font-family: 'Segoe UI', sans-serif; background-color: #f0f2f5; margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; }
        .container { background: white; padding: 15px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); width: 100%; max-width: 650px; border-top: 6px solid var(--blue); margin-bottom: 15px; box-sizing: border-box; }
        h2 { color: var(--red); text-align: center; font-size: 1.2em; margin: 10px 0; }
        
        .timer-box { display: flex; justify-content: space-around; background: var(--blue); color: white; padding: 15px; border-radius: 10px; text-align: center; }
        .timer-item b { display: block; color: #f1c40f; font-size: 1.1em; }

        .quick-fill-area { background: #eef2f7; padding: 12px; border-radius: 10px; margin-top: 15px; border: 1px dashed var(--blue); text-align: center; }
        .fill-controls { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; align-items: center; margin-top: 8px; }
        select, .q-input { padding: 8px; border-radius: 5px; border: 1px solid var(--blue); font-weight: bold; }
        .btn-fill { background: var(--blue); color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; }

        .table-wrapper { width: 100%; overflow-x: auto; border-radius: 8px; border: 1px solid #eee; margin-top: 10px; }
        table { width: 100%; border-collapse: collapse; min-width: 550px; }
        th, td { padding: 10px; border-bottom: 1px solid #eee; text-align: center; font-size: 0.85em; }
        th { background: #f8f9fa; color: var(--blue); }
        
        input[type="number"] { width: 45px; padding: 5px; border-radius: 4px; border: 1px solid #ccc; text-align: center; font-weight: bold; }

        .btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 15px; }
        .btn { padding: 15px; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; color: white; font-size: 1em; }
        .btn-calc { background: var(--red); grid-column: span 2; }
        .btn-save { background: var(--green); }
        .btn-restore { background: var(--orange); }
        #result-card { margin-top: 15px; padding: 15px; border-radius: 10px; text-align: center; display: none; font-weight: bold; color: white; font-size: 1.3em; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ‡©ğŸ‡¿ Ù…Ø¤Ù‚Øª Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª 2026</h2>
    <div class="timer-box">
        <div class="timer-item"><h4>BEM 2026</h4><b id="bem-v">149 ÙŠÙˆÙ…</b></div>
        <div class="timer-item"><h4>BAC 2026</h4><b id="bac-v">156 ÙŠÙˆÙ…</b></div>
    </div>

    <div class="quick-fill-area">
        <strong>âš¡ Ù…Ù„Ø¡ Ø¹Ù…ÙˆØ¯ Ù…Ø­Ø¯Ø¯:</strong>
        <div class="fill-controls">
            <select id="target-col">
                <option value="0">ØªÙ‚ÙˆÙŠÙ…</option>
                <option value="1">ØªØ·Ø¨ÙŠÙ‚ÙŠ</option>
                <option value="2">ÙØ±Ø¶ 1</option>
                <option value="3">ÙØ±Ø¶ 2</option>
                <option value="4">Ø§Ø®ØªØ¨Ø§Ø±</option>
            </select>
            <input type="number" id="q-val" class="q-input" min="0" max="20" placeholder="10">
            <button class="btn-fill" onclick="fillSpecific()">ØªØ·Ø¨ÙŠÙ‚ âœ¨</button>
        </div>
    </div>
</div>

<div class="container">
    <h2>ğŸ“Š Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„ </h2>
    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th>Ø§Ù„Ù…Ø§Ø¯Ø©</th>
                    <th>ØªÙ‚ÙˆÙŠÙ…</th>
                    <th>Ø§.ØªØ·Ø¨ÙŠÙ‚ÙŠØ©</th>
                    <th>ÙØ±Ø¶1</th>
                    <th>ÙØ±Ø¶2</th>
                    <th>Ø§Ø®ØªØ¨Ø§Ø±</th>
                    <th>Ù…Ø¹Ø§Ù…Ù„</th>
                </tr>
            </thead>
            <tbody id="m-body">
                <tr data-coef="3"><td>Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>3</td></tr>
                <tr data-coef="5"><td>Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>5</td></tr>
                <tr data-coef="4"><td>Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>4</td></tr>
                <tr data-coef="4"><td>Ø§Ù„Ø¹Ù„ÙˆÙ…</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>4</td></tr>
                <tr data-coef="2"><td>Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>2</td></tr>
                <tr data-coef="2"><td>Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>2</td></tr>
                <tr data-coef="2"><td>Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ§Øª</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>2</td></tr>
                <tr data-coef="2"><td>Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>2</td></tr>
                <tr data-coef="2"><td>ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>2</td></tr>
                <tr data-coef="2"><td>Ø¥Ø¹Ù„Ø§Ù… Ø¢Ù„ÙŠ</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>2</td></tr>
                <tr data-coef="1"><td>ØªØ±Ø¨ÙŠØ© ÙÙ†ÙŠØ©</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>1</td></tr>
                <tr data-coef="1"><td>Ø±ÙŠØ§Ø¶Ø©</td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td><input type="number" oninput="v(this)"></td><td>1</td></tr>
            </tbody>
        </table>
    </div>

    <div class="btn-group">
        <button class="btn btn-calc" onclick="calculate()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¢Ù† ğŸš€</button>
        <button class="btn btn-save" onclick="save()">Ø­ÙØ¸ Ø§Ù„Ù†Ù‚Ø§Ø· âœ…</button>
        <button class="btn btn-restore" onclick="restore()">Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ù†Ù‚Ø§Ø· ğŸ”„</button>
    </div>
    <div id="result-card"></div>
</div>

<script>
    function v(el) { if(el.value>20) el.value=20; if(el.value<0 && el.value!=="") el.value=0; }

    function fillSpecific() {
        let colIdx = document.getElementById("target-col").value;
        let val = document.getElementById("q-val").value;
        if(val==="" || val<0 || val>20) return alert("Ø£Ø¯Ø®Ù„ Ù†Ù‚Ø·Ø© ØµØ­ÙŠØ­Ø©");
        document.querySelectorAll("#m-body tr").forEach(row => {
            row.querySelectorAll("input")[colIdx].value = val;
        });
    }

    function calculate() {
        let tP = 0, tC = 0;
        document.querySelectorAll("#m-body tr").forEach(row => {
            let ins = row.querySelectorAll("input"), c = parseFloat(row.dataset.coef);
            let sC = 0, count = 0;
            for(let i=0; i<4; i++) { 
                let v = parseFloat(ins[i].value); 
                if(!isNaN(v)) { sC += v; count++; } 
            }
            let avg = ((count>0 ? sC/count : 0) + (parseFloat(ins[4].value)||0)*2)/3;
            tP += (avg * c); tC += c;
        });
        let res = document.getElementById("result-card");
        res.style.display = "block";
        let final = tP/tC;
        res.style.background = final>=10 ? "#2ecc71":"#e74c3c";
        res.innerText = isNaN(final) ? "Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Ù‚Ø§Ø· Ø£ÙˆÙ„Ø§Ù‹" : "Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ÙØµÙ„ÙŠ: " + final.toFixed(2);
    }

    function save() {
        let s = []; document.querySelectorAll("#m-body input").forEach(i => s.push(i.value));
        localStorage.setItem("HOUSSEM_V10", JSON.stringify(s)); alert("ØªÙ… Ø§Ù„Ø­ÙØ¸ âœ…");
    }

    function restore() {
        let d = JSON.parse(localStorage.getItem("HOUSSEM_V10"));
        if(!d) return alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­ÙÙˆØ¸Ø§Øª");
        document.querySelectorAll("#m-body input").forEach((i, idx) => i.value = d[idx]); alert("ØªÙ… Ø§Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ ğŸ”„");
    }
</script>
</body>
</html>





